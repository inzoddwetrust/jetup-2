# MLM System Testing Schema
## –°—Ö–µ–º–∞ –∂–∏–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-08
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î](#—Ç–µ–∫—É—â–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–¥)
3. [–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#—Ç–µ—Å—Ç–æ–≤—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
4. [–ü–æ–ø—É–ª—è—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤](#–ø–æ–ø—É–ª—è—Ç–æ—Ä—ã-–¥–ª—è-—Ä–∞–∑–Ω—ã—Ö-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
5. [–ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#—á–µ–∫–ª–∏—Å—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã MLM —Å–∏—Å—Ç–µ–º—ã:

#### 1. **–†–∞–Ω–≥–∏** (Ranks)
- `start` - –Ω–∞—á–∞–ª—å–Ω—ã–π
- `builder` - —Å—Ç—Ä–æ–∏—Ç–µ–ª—å
- `growth` - —Ä–æ—Å—Ç
- `leadership` - –ª–∏–¥–µ—Ä—Å—Ç–≤–æ
- `director` - –¥–∏—Ä–µ–∫—Ç–æ—Ä

#### 2. **–ö–æ–º–∏—Å—Å–∏–∏**
- **–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏** (–¥–æ 18%)
- **–ö–æ–º–ø—Ä–µ—Å—Å–∏—è** - –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–º–∏—Å—Å–∏–π –æ—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Pioneer Bonus** (+4%) - –¥–ª—è –ø–µ—Ä–≤—ã—Ö 50 –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤ —Å ‚â•$5000
- **Referral Bonus** (1%) - –¥–ª—è –ø–æ–∫—É–ø–æ–∫ ‚â•$5000, –≤—ã–¥–∞–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–º–∏
- **Investment Bonus** - –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã –ø–æ —Ç–∏—Ä–∞–º (5%, 10%, 15%, 20%)

#### 3. **–û–±—ä–µ–º—ã**
- **PV** (Personal Volume) - –ª–∏—á–Ω—ã–π –æ–±—ä–µ–º
- **GV** (Group Volume) - –∫–æ–º–∞–Ω–¥–Ω—ã–π –æ–±—ä–µ–º
- **QV** (Qualification Volume) - –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –æ–±—ä–µ–º –¥–ª—è —Ä–∞–Ω–≥–∞

#### 4. **–°–µ—Ä–≤–∏—Å—ã**
- `CommissionService` - —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π
- `InvestmentBonusService` - –±–æ–Ω—É—Å—ã –∑–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
- `VolumeService` - –ø–æ–¥—Å—á–µ—Ç –æ–±—ä–µ–º–æ–≤
- `RankService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–∞–º–∏
- `GlobalPoolService` - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—É–ª (2% –æ—Ç –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂)
- `GraceDayService` - 5-–¥–Ω–µ–≤–Ω–∞—è –æ—Ç—Å—Ä–æ—á–∫–∞ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏

---

## üå≥ –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

```
‚îî‚îÄ üëë ‚≠êÔ∏è –ê—Ä—Ç–µ–º (ID:526738615) ‚ùå [director] $100000.00
    ‚îú‚îÄ Dummy100000 (ID:100000) ‚ùå
    ‚îÇ   ‚îú‚îÄ Dummy100003 (ID:100003) ‚úÖ
    ‚îÇ   ‚îÇ   ‚îú‚îÄ Dummy100008 (ID:100008) ‚ùå
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ Dummy100018 (ID:100018) ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ Dummy100019 (ID:100019) ‚úÖ [builder]
    ‚îÇ   ‚îÇ   ‚îú‚îÄ Dummy100009 (ID:100009) ‚úÖ
    ‚îÇ   ‚îÇ   ‚îî‚îÄ Dummy100010 (ID:100010) ‚úÖ
    ‚îÇ   ‚îÇ       ‚îî‚îÄ ‚≠êÔ∏è Dennis (ID:334692878) ‚ùå  $10000.00
    ‚îÇ   ‚îî‚îÄ Dummy100004 (ID:100004) ‚úÖ [builder]
    ‚îÇ       ‚îú‚îÄ Dummy100011 (ID:100011) ‚úÖ [builder]
    ‚îÇ       ‚îî‚îÄ Dummy100012 (ID:100012) ‚ùå
    ‚îú‚îÄ Dummy100001 (ID:100001) ‚úÖ [builder]
    ‚îÇ   ‚îú‚îÄ Dummy100005 (ID:100005) ‚úÖ [growth]
    ‚îÇ   ‚îÇ   ‚îú‚îÄ Dummy100013 (ID:100013) ‚ùå
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ ‚≠êÔ∏è –ë–∞–ª–∫–Ω–æ 2 (ID:5130305756) ‚ùå  $10000.00
    ‚îÇ   ‚îÇ   ‚îî‚îÄ Dummy100014 (ID:100014) ‚úÖ [growth]
    ‚îÇ   ‚îî‚îÄ Dummy100006 (ID:100006) ‚úÖ [builder]
    ‚îÇ       ‚îú‚îÄ Dummy100015 (ID:100015) ‚úÖ
    ‚îÇ       ‚îÇ   ‚îî‚îÄ ‚≠êÔ∏è Alexander (ID:884933951) ‚ùå  $10000.00
    ‚îÇ       ‚îú‚îÄ Dummy100016 (ID:100016) ‚úÖ
    ‚îÇ       ‚îî‚îÄ ‚≠êÔ∏è –ó–æ–¥–¥ (ID:5971989877) ‚ùå  $10000.00
    ‚îî‚îÄ Dummy100002 (ID:100002) ‚úÖ [builder]
        ‚îî‚îÄ Dummy100007 (ID:100007) ‚ùå
            ‚îî‚îÄ Dummy100017 (ID:100017) ‚úÖ [growth]
```

### –ñ–∏–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (‚≠êÔ∏è):
1. **–ê—Ä—Ç–µ–º** (526738615) - ROOT, director, $100k –±–∞–ª–∞–Ω—Å
2. **–ó–æ–¥–¥** (5971989877) - —Ç–µ—Å—Ç investment bonus, $10k
3. **Dennis** (334692878) - —Ç–µ—Å—Ç –ø—Ä–∞–≤–∏–ª–∞ 50%, $10k
4. **–ë–∞–ª–∫–Ω–æ 2** (5130305756) - —Ç–µ—Å—Ç investment bonus, $10k
5. **Alexander** (884933951) - —Ç–µ—Å—Ç –ø—Ä–∞–≤–∏–ª–∞ 50%, $10k

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ —Å –∫–æ–º–ø—Ä–µ—Å—Å–∏–µ–π

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢–µ—Å—Ç–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞:**
```
ROOT (director, 18%) ‚Üí Dummy100000 (‚ùå inactive) ‚Üí Dummy100003 (‚úÖ start, 7%)
  ‚Üí Dummy100008 (‚ùå inactive) ‚Üí Dummy100018 (‚úÖ start, 7%)
```

**–®–∞–≥–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **Dummy100018** –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ $1000
2. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   - Dummy100018 (–ø–æ–∫—É–ø–∞—Ç–µ–ª—å) - –∫–æ–º–∏—Å—Å–∏–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç
   - Dummy100008 (‚ùå inactive) - —Å–∂–∏–º–∞–µ—Ç—Å—è
   - Dummy100003 (‚úÖ active, 7%) - –ø–æ–ª—É—á–∞–µ—Ç 7% + —Å–∂–∞—Ç—É—é –∫–æ–º–∏—Å—Å–∏—é –æ—Ç Dummy100008
   - Dummy100000 (‚ùå inactive) - —Å–∂–∏–º–∞–µ—Ç—Å—è
   - ROOT (‚úÖ active, 18%) - –ø–æ–ª—É—á–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –¥–æ 18%

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–∏—Å—Å–∏–π
SELECT
    u.firstname,
    u.isActive,
    u.rank,
    b.bonusAmount,
    b.bonusRate,
    b.uplineLevel,
    b.compressionApplied
FROM bonus b
JOIN user u ON b.userID = u.userID
WHERE b.purchaseID = <purchase_id>
ORDER BY b.uplineLevel;
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –°—É–º–º–∞ –≤—Å–µ—Ö bonusAmount –¥–æ–ª–∂–Ω–∞ = 18% –æ—Ç $1000 = $180
- ROOT –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å compression + remainder

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Investment Bonus (–∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ investment bonus –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ç–∏—Ä–æ–≤

**–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ó–æ–¥–¥ (5971989877) –∏–ª–∏ –ë–∞–ª–∫–Ω–æ 2 (5130305756)

**–¢–∏—Ä—ã:**
- $1,000 ‚Üí 5% cumulative
- $5,000 ‚Üí 10% cumulative
- $10,000 ‚Üí 15% cumulative
- $20,000 ‚Üí 20% cumulative

**–®–∞–≥–∏:**

**–≠—Ç–∞–ø 1:** –ü–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞ $400
- –ü–æ–∫—É–ø–∫–∞: $400
- –í—Å–µ–≥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: $400
- –ë–æ–Ω—É—Å: 0 (–Ω–µ –¥–æ—Å—Ç–∏–≥ $1000)

**–≠—Ç–∞–ø 2:** –í—Ç–æ—Ä–∞—è –ø–æ–∫—É–ø–∫–∞ $700
- –ü–æ–∫—É–ø–∫–∞: $700
- –í—Å–µ–≥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: $1100
- –î–æ—Å—Ç–∏–≥–Ω—É—Ç —Ç–∏—Ä: $1000 (5%)
- Expected total bonus: $1100 √ó 5% = $55
- –£–∂–µ –≤—ã–¥–∞–Ω–æ: $0
- –ù–æ–≤—ã–π –±–æ–Ω—É—Å: $55
- –ê–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞: +$55 –æ–ø—Ü–∏–æ–Ω–æ–≤

**–≠—Ç–∞–ø 3:** –¢—Ä–µ—Ç—å—è –ø–æ–∫—É–ø–∫–∞ $4000
- –ü–æ–∫—É–ø–∫–∞: $4000
- –í—Å–µ–≥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: $5100
- –î–æ—Å—Ç–∏–≥–Ω—É—Ç —Ç–∏—Ä: $5000 (10%)
- Expected total bonus: $5100 √ó 10% = $510
- –£–∂–µ –≤—ã–¥–∞–Ω–æ: $55
- –ù–æ–≤—ã–π –±–æ–Ω—É—Å: $510 - $55 = $455
- –ê–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞: +$455 –æ–ø—Ü–∏–æ–Ω–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –û–±—â–∏–π –æ–±—ä–µ–º –ø–æ–∫—É–ø–æ–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
SELECT SUM(packPrice) as total_purchased
FROM purchase
WHERE userID = <user_id> AND projectID = <project_id>;

# –í—ã–¥–∞–Ω–Ω—ã–µ investment bonuses
SELECT
    bonusAmount,
    bonusRate,
    notes,
    createdAt
FROM bonus
WHERE userID = <user_id>
  AND projectID = <project_id>
  AND commissionType = 'investment_package'
ORDER BY createdAt;

# –ê–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∏
SELECT
    purchaseID,
    packQty,
    packPrice,
    createdAt
FROM purchase
WHERE userID = <user_id> AND projectID = <project_id>
ORDER BY createdAt;
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Referral Bonus (1% –æ–ø—Ü–∏–æ–Ω–∞–º–∏)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–¥–∞—á—É —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞ –æ–ø—Ü–∏–æ–Ω–∞–º–∏ –¥–ª—è –ø–æ–∫—É–ø–æ–∫ ‚â•$5000

**–¢–µ—Å—Ç–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞:**
```
Dummy100015 (upline, ‚úÖ active) ‚Üí Alexander (5971989877, downline)
```

**–®–∞–≥–∏:**
1. **Alexander** –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ $5000
2. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   - Referral bonus: $5000 √ó 1% = $50
   - –°–æ–∑–¥–∞–µ—Ç—Å—è Bonus –∑–∞–ø–∏—Å—å —Å `commissionType = 'referral'`
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤ –Ω–∞ $50 –¥–ª—è **Dummy100015**
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ActiveBalance:
     - +$50 (credit –æ—Ç –±–æ–Ω—É—Å–∞)
     - -$50 (debit –Ω–∞ –ø–æ–∫—É–ø–∫—É)
   - Net effect –Ω–∞ balanceActive: 0
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# Referral bonus –∑–∞–ø–∏—Å—å
SELECT * FROM bonus
WHERE downlineID = <alexander_user_id>
  AND commissionType = 'referral'
  AND purchaseID = <purchase_id>;

# –ê–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤
SELECT * FROM purchase
WHERE userID = <upline_user_id>
  AND createdAt >= <purchase_time>;

# ActiveBalance —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
SELECT
    amount,
    status,
    reason,
    notes
FROM active_balance
WHERE userID = <upline_user_id>
  AND createdAt >= <purchase_time>
ORDER BY createdAt;
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: Pioneer Bonus (+4%)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ +4% –∫–æ –≤—Å–µ–º –∫–æ–º–∏—Å—Å–∏—è–º –¥–ª—è pioneers

**–£—Å–ª–æ–≤–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –ø–µ—Ä–≤—ã—Ö 50 —Å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–µ–π ‚â•$5000

**–®–∞–≥–∏:**
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç `mlmStatus.hasPioneerBonus = true`
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é –æ—Ç –ø–æ–∫—É–ø–∫–∏ downline
3. –ö –∫–∞–∂–¥–æ–π –∫–æ–º–∏—Å—Å–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è +4% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–∫—É–ø–∫–∏

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–∫—É–ø–∫–∞: $1000
- –û–±—ã—á–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è (7%): $70
- Pioneer bonus (+4%): $40
- –ò—Ç–æ–≥–æ: $110

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å pioneer —Å—Ç–∞—Ç—É—Å
SELECT
    telegramID,
    firstname,
    mlmStatus
FROM user
WHERE mlmStatus->>'hasPioneerBonus' = 'true';

# –ö–æ–º–∏—Å—Å–∏–∏ —Å pioneer bonus
SELECT
    bonusAmount,
    bonusRate,
    notes
FROM bonus
WHERE userID = <pioneer_user_id>
  AND purchaseID = <purchase_id>;
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –†–∞—Å—á–µ—Ç –æ–±—ä–µ–º–æ–≤ (PV, GV, QV)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥—Å—á–µ—Ç–∞ –æ–±—ä–µ–º–æ–≤ –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è —Ä–∞–Ω–≥–æ–≤

**–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
Dummy100001 (builder)
    ‚îú‚îÄ Dummy100005 (growth)
    ‚îÇ   ‚îú‚îÄ Dummy100013 (inactive)
    ‚îÇ   ‚îî‚îÄ Dummy100014 (growth)
    ‚îî‚îÄ Dummy100006 (builder)
```

**–®–∞–≥–∏:**
1. **Dummy100014** –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ $500
2. **Dummy100005** –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ $300
3. **Dummy100006** –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ $400
4. **Dummy100001** –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–∞ $200

**–û–∂–∏–¥–∞–µ–º—ã–µ –æ–±—ä–µ–º—ã –¥–ª—è Dummy100001:**
- **PV** (Personal Volume): $200 (–µ–≥–æ –ø–æ–∫—É–ø–∫–∞)
- **GV** (Group Volume): $200 (PV) + $300 (Dummy100005) + $500 (Dummy100014) + $400 (Dummy100006) = $1400
- **QV** (Qualification Volume): –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∞–≤–∏–ª rank system

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –ß–µ—Ä–µ–∑ VolumeService
from mlm_system.services.volume_service import VolumeService

session = get_session()
volume_service = VolumeService(session)

user = session.query(User).filter_by(telegramID=100001).first()
volumes = await volume_service.calculateUserVolumes(user.userID)

print(f"PV: {volumes['pv']}")
print(f"GV: {volumes['gv']}")
print(f"QV: {volumes['qv']}")
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 6: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è builder:**
```python
{
    "teamVolumeRequired": 5000,  # GV >= $5000
    "activePartnersRequired": 2,  # –º–∏–Ω–∏–º—É–º 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–∞
    "percentage": 0.10  # 10%
}
```

**–®–∞–≥–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **Dummy100000** (start, inactive ‚Üí –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å)
2. –°–æ–∑–¥–∞—Ç—å 2+ –∞–∫—Ç–∏–≤–Ω—ã—Ö downline
3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∫—É–ø–∫–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è GV ‚â• $5000
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–µ—Å—è—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ `RankService.processMonthlyRanks()`
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –î–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏
user = session.query(User).filter_by(telegramID=100000).first()
print(f"Rank before: {user.rank}")

# –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
from mlm_system.services.rank_service import RankService
rank_service = RankService(session)
await rank_service.processMonthlyRanks()

# –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
session.refresh(user)
print(f"Rank after: {user.rank}")

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–±—ã—Ç–∏–µ MLMEvents.RANK_ACHIEVED
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 7: Global Pool (2% –æ—Ç –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø—É–ª–∞ –º–µ–∂–¥—É directors

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- 2% –æ—Ç –≤—Å–µ—Ö –ø–æ–∫—É–ø–æ–∫ –∏–¥–µ—Ç –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø—É–ª
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ **director** —Ä–∞–Ω–≥–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∏—Ö –≤–∫–ª–∞–¥—É
- –í—ã–ø–ª–∞—Ç–∞: 5-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∫—É–ø–æ–∫ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `GlobalPoolService.calculateMonthlyPool()`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç: `total_sales √ó 2%`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É directors
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å `GlobalPoolService.distributeMonthlyPool()`
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ Bonus –∑–∞–ø–∏—Å–µ–π

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –û–±—â–∏–π –æ–±—ä–µ–º –ø—Ä–æ–¥–∞–∂ –∑–∞ –º–µ—Å—è—Ü
from mlm_system.utils.time_machine import timeMachine

current_month = timeMachine.currentMonth  # "2025-01"

total_sales = session.query(func.sum(Purchase.packPrice)).filter(
    extract('year', Purchase.createdAt) == 2025,
    extract('month', Purchase.createdAt) == 1
).scalar()

expected_pool = total_sales * Decimal("0.02")

# Global Pool –±–æ–Ω—É—Å—ã
global_pool_bonuses = session.query(Bonus).filter(
    Bonus.commissionType == 'global_pool',
    extract('year', Bonus.createdAt) == 2025,
    extract('month', Bonus.createdAt) == 1
).all()

total_distributed = sum(b.bonusAmount for b in global_pool_bonuses)
print(f"Expected pool: {expected_pool}")
print(f"Total distributed: {total_distributed}")
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 8: Grace Day (5 –¥–Ω–µ–π –æ—Ç—Å—Ä–æ—á–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º grace period –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ PV < $200

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ï—Å–ª–∏ PV < $200 –Ω–∞ –∫–æ–Ω–µ—Ü –º–µ—Å—è—Ü–∞ ‚Üí –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è grace period –Ω–∞ 5 –¥–Ω–µ–π
- –ï—Å–ª–∏ –∑–∞ 5 –¥–Ω–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç $200 ‚Üí –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
- –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç ‚Üí grace period –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, —Å—Ç–∞—Ç—É—Å –æ—Å—Ç–∞–µ—Ç—Å—è active

**–®–∞–≥–∏:**

**–î–µ–Ω—å 1 (–∫–æ–Ω–µ—Ü –º–µ—Å—è—Ü–∞):**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **Dummy100003** –∏–º–µ–µ—Ç PV = $150 (< $200)
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `GraceDayService.startGracePeriod(user_id)`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `user.mlmStatus.graceDay.active = true`, `user.mlmStatus.graceDay.startDate = today`

**–î–µ–Ω—å 2-4:**
1. –ó–∞–ø—É—Å–∫–∞—Ç—å `GraceDayService.checkGracePeriods()` –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è active, –Ω–æ grace period –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

**–î–µ–Ω—å 5 (–≤–∞—Ä–∏–∞–Ω—Ç A - –ù–ï –≤—ã–ø–æ–ª–Ω–∏–ª —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è):**
1. PV –≤—Å–µ –µ—â–µ < $200
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `GraceDayService.checkGracePeriods()`
3. –û–∂–∏–¥–∞–µ–º–æ–µ: `user.isActive = false`, grace period –∑–∞–≤–µ—Ä—à–µ–Ω

**–î–µ–Ω—å 3 (–≤–∞—Ä–∏–∞–Ω—Ç B - –í–´–ü–û–õ–ù–ò–õ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è):**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É, PV —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ‚â• $200
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `GraceDayService.cancelGracePeriod(user_id)`
3. –û–∂–∏–¥–∞–µ–º–æ–µ: `user.mlmStatus.graceDay.active = false`, –æ—Å—Ç–∞–µ—Ç—Å—è active

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# Grace period —Å—Ç–∞—Ç—É—Å
user = session.query(User).filter_by(userID=<user_id>).first()
grace_status = user.mlmStatus.get('graceDay', {})

print(f"Grace active: {grace_status.get('active')}")
print(f"Start date: {grace_status.get('startDate')}")
print(f"Reason: {grace_status.get('reason')}")

# –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è grace (–Ω–µ—É—Å–ø–µ—à–Ω–æ)
assert user.isActive == False
assert grace_status.get('active') == False
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 9: –ú–µ—Å—è—á–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã (5-–≥–æ —á–∏—Å–ª–∞)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–ª–∞—Ç—É pending –∫–æ–º–∏—Å—Å–∏–π 5-–≥–æ —á–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞

**–ú–µ—Ö–∞–Ω–∏–∫–∞:**
- –í—Å–µ –∫–æ–º–∏—Å—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `status = 'pending'`
- 5-–≥–æ —á–∏—Å–ª–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `processMonthlyPayments()`
- –ö–æ–º–∏—Å—Å–∏–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ `status = 'paid'`
- –°–æ–∑–¥–∞—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ PassiveBalance
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `user.balancePassive`

**–®–∞–≥–∏:**

**–ú–µ—Å—è—Ü 1 (–Ω–∞–ø—Ä–∏–º–µ—Ä, —è–Ω–≤–∞—Ä—å):**
1. –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∫—É–ø–æ–∫
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ Bonus –∏–º–µ—é—Ç `status = 'pending'`

**5-–µ —á–∏—Å–ª–æ –º–µ—Å—è—Ü–∞ 2 (—Ñ–µ–≤—Ä–∞–ª—å):**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É —á–µ—Ä–µ–∑ timeMachine: `timeMachine.setDate("2025-02-05")`
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `CommissionService.processMonthlyPayments()`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –í—Å–µ —è–Ω–≤–∞—Ä—Å–∫–∏–µ Bonus –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ `status = 'paid'`
   - –°–æ–∑–¥–∞–Ω—ã PassiveBalance —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã `user.balancePassive`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# Pending bonuses –¥–æ –≤—ã–ø–ª–∞—Ç—ã
pending = session.query(Bonus).filter(
    Bonus.status == 'pending',
    extract('year', Bonus.createdAt) == 2025,
    extract('month', Bonus.createdAt) == 1
).all()

print(f"Pending bonuses: {len(pending)}")
print(f"Total amount: {sum(b.bonusAmount for b in pending)}")

# –ü–æ—Å–ª–µ processMonthlyPayments()
paid = session.query(Bonus).filter(
    Bonus.status == 'paid',
    extract('year', Bonus.createdAt) == 2025,
    extract('month', Bonus.createdAt) == 1
).all()

print(f"Paid bonuses: {len(paid)}")

# Passive balance —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
pb_transactions = session.query(PassiveBalance).filter(
    PassiveBalance.createdAt >= "2025-02-05",
    PassiveBalance.reason.like('bonus=%')
).all()

print(f"PassiveBalance transactions: {len(pb_transactions)}")
```

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 10: –ü—Ä–∞–≤–∏–ª–æ 50% (Transfer Bonus)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å transfer bonus –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö downline

**–£—Å–ª–æ–≤–∏–µ:** –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –≤ –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏, –æ–Ω –ø–æ–ª—É—á–∞–µ—Ç 50% –æ—Ç –∫–æ–º–∏—Å—Å–∏–∏ —Å–≤–æ–µ–≥–æ upline

**–¢–µ—Å—Ç–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞:**
```
Dummy100006 (builder, ‚úÖ active, –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ downline)
    ‚îî‚îÄ –ó–æ–¥–¥ (‚ùå –ù–ï–¢ –∞–∫—Ç–∏–≤–Ω—ã—Ö downline –≤ –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏)
```

**–®–∞–≥–∏:**
1. **–ó–æ–¥–¥** –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é $100 –æ—Ç –ø–æ–∫—É–ø–∫–∏ —Å–≤–æ–µ–≥–æ downline
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ —É **–ó–æ–¥–¥** –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã –≤ –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏?
3. –ï—Å–ª–∏ –ù–ï–¢ ‚Üí **Dummy100006** –ø–æ–ª—É—á–∞–µ—Ç transfer bonus: $100 √ó 50% = $50

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö downline
zodd = session.query(User).filter_by(telegramID=5971989877).first()

active_downline = session.query(User).filter(
    User.upline == zodd.telegramID,
    User.isActive == True
).count()

print(f"Active downline: {active_downline}")

# Transfer bonus
transfer_bonuses = session.query(Bonus).filter(
    Bonus.commissionType == 'transfer',
    Bonus.downlineID == zodd.userID
).all()

for tb in transfer_bonuses:
    print(f"Transfer bonus: ${tb.bonusAmount} to user {tb.userID}")
```

---

## üîß –ü–æ–ø—É–ª—è—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ë–∞–∑–æ–≤—ã–π –ø–æ–ø—É–ª—è—Ç–æ—Ä (—Ç–µ–∫—É—â–∏–π)

–§–∞–π–ª: `populate_test_data.py`

–°–æ–∑–¥–∞–µ—Ç:
- 1 ROOT –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (director)
- 20 dummy –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- 5 —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö
- 80% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∞–∫—Ç–∏–≤–Ω—ã
- –°–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤

### –ü–æ–ø—É–ª—è—Ç–æ—Ä 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–π

**–§–∞–π–ª:** `scripts/populate_commission_test.py`

```python
# –°–æ–∑–¥–∞–µ—Ç –ª–∏–Ω–µ–π–Ω—É—é —Ü–µ–ø–æ—á–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è compression
# ROOT ‚Üí inactive ‚Üí active (builder) ‚Üí inactive ‚Üí active (start) ‚Üí –ø–æ–∫—É–ø–∞—Ç–µ–ª—å

TEST_CHAIN = [
    {"telegramID": 526738615, "rank": "director", "isActive": True},  # ROOT
    {"telegramID": 100000, "rank": "start", "isActive": False},  # –°–∂–∏–º–∞–µ—Ç—Å—è
    {"telegramID": 100001, "rank": "builder", "isActive": True},  # –ü–æ–ª—É—á–∏—Ç compression
    {"telegramID": 100002, "rank": "start", "isActive": False},  # –°–∂–∏–º–∞–µ—Ç—Å—è
    {"telegramID": 100003, "rank": "start", "isActive": True},  # –ü–æ–ª—É—á–∏—Ç —Å–≤–æ–∏ 7%
    {"telegramID": 5971989877, "rank": "start", "isActive": True},  # –ó–æ–¥–¥ - –ø–æ–∫—É–ø–∞—Ç–µ–ª—å
]
```

### –ü–æ–ø—É–ª—è—Ç–æ—Ä 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Investment Bonus

**–§–∞–π–ª:** `scripts/populate_investment_test.py`

```python
# –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞ investment bonus
# ROOT ‚Üí –ó–æ–¥–¥ (–¥–ª—è —Ç–µ—Å—Ç–∞ –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤)

TEST_CONFIG = {
    "users": [
        {"telegramID": 526738615, "rank": "director", "isActive": True},  # ROOT
        {"telegramID": 5971989877, "rank": "start", "isActive": True, "balance": 20000},  # –ó–æ–¥–¥
    ]
}

# –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ä–∏–∏ –ø–æ–∫—É–ø–æ–∫:
# $400 ‚Üí 0 bonus
# $700 ‚Üí $55 bonus (5% tier)
# $4000 ‚Üí $455 bonus (10% tier)
```

### –ü–æ–ø—É–ª—è—Ç–æ—Ä 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Global Pool

**–§–∞–π–ª:** `scripts/populate_global_pool_test.py`

```python
# –°–æ–∑–¥–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ directors –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
TEST_CONFIG = {
    "directors": [
        {"telegramID": 526738615, "firstname": "–ê—Ä—Ç–µ–º"},
        {"telegramID": 100001, "firstname": "Director1"},
        {"telegramID": 100002, "firstname": "Director2"},
        {"telegramID": 100003, "firstname": "Director3"},
    ],
    "regular_users": 20,  # –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –ø–æ–∫—É–ø–∫–∏
}
```

### –ü–æ–ø—É–ª—è—Ç–æ—Ä 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Grace Day

**–§–∞–π–ª:** `scripts/populate_grace_day_test.py`

```python
# –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ PV –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è grace period
TEST_CONFIG = {
    "users": [
        {"telegramID": 100001, "pv": 150, "scenario": "grace_fail"},  # PV < 200, –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç
        {"telegramID": 100002, "pv": 180, "scenario": "grace_success"},  # PV < 200, –í–´–ü–û–õ–ù–ò–¢
        {"telegramID": 100003, "pv": 250, "scenario": "no_grace"},  # PV >= 200, –±–µ–∑ grace
    ]
}
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ë–ª–æ–∫ 1: –ö–æ–º–∏—Å—Å–∏–∏

- [ ] **–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏**
  - [ ] –†–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–π –ø–æ —É—Ä–æ–≤–Ω—è–º (7%, 10%, 12%, 15%, 18%)
  - [ ] –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - [ ] –ü–µ—Ä–µ–¥–∞—á–∞ compression –∞–∫—Ç–∏–≤–Ω–æ–º—É upline
  - [ ] –û—Å—Ç–∞—Ç–æ–∫ –∫–æ–º–∏—Å—Å–∏–π –∏–¥–µ—Ç –≤ ROOT
  - [ ] –°—É–º–º–∞ –≤—Å–µ—Ö –∫–æ–º–∏—Å—Å–∏–π = 18% –æ—Ç –ø–æ–∫—É–ø–∫–∏

- [ ] **Pioneer Bonus**
  - [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pioneer —Å—Ç–∞—Ç—É—Å–∞ –¥–ª—è –ø–µ—Ä–≤—ã—Ö 50 —Å ‚â•$5000
  - [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ +4% –∫–æ –≤—Å–µ–º –∫–æ–º–∏—Å—Å–∏—è–º pioneer
  - [ ] Permanent —Å—Ç–∞—Ç—É—Å (–Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è)

- [ ] **Referral Bonus**
  - [ ] –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ 1% –¥–ª—è –ø–æ–∫—É–ø–æ–∫ ‚â•$5000
  - [ ] –ë–æ–Ω—É—Å –≤—ã–¥–∞–µ—Ç—Å—è –û–ü–¶–ò–û–ù–ê–ú–ò (–Ω–µ –¥–µ–Ω—å–≥–∞–º–∏)
  - [ ] –ê–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤
  - [ ] –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ActiveBalance (credit + debit)
  - [ ] Net effect = 0 –Ω–∞ balanceActive

- [ ] **Transfer Bonus (–ø—Ä–∞–≤–∏–ª–æ 50%)**
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö downline
  - [ ] –ü–µ—Ä–µ–¥–∞—á–∞ 50% upline –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö

### –ë–ª–æ–∫ 2: Investment Bonus

- [ ] **–¢–∏—Ä—ã**
  - [ ] $1,000 ‚Üí 5% cumulative
  - [ ] $5,000 ‚Üí 10% cumulative
  - [ ] $10,000 ‚Üí 15% cumulative
  - [ ] $20,000 ‚Üí 20% cumulative

- [ ] **–†–∞—Å—á–µ—Ç**
  - [ ] –ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç (expected - granted)
  - [ ] –£—á–µ—Ç –≤—Å–µ—Ö –ø–æ–∫—É–ø–æ–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
  - [ ] –ê–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤ –Ω–∞ –±–æ–Ω—É—Å

- [ ] **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
  - [ ] –°–æ–∑–¥–∞–Ω–∏–µ Bonus –∑–∞–ø–∏—Å–∏
  - [ ] –°–æ–∑–¥–∞–Ω–∏–µ Purchase (–∞–≤—Ç–æ-–ø–æ–∫—É–ø–∫–∞)
  - [ ] ActiveBalance —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –ë–ª–æ–∫ 3: –û–±—ä–µ–º—ã –∏ —Ä–∞–Ω–≥–∏

- [ ] **–û–±—ä–µ–º—ã**
  - [ ] PV (Personal Volume) - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç
  - [ ] GV (Group Volume) - —Å—É–º–º–∞ –ø–æ –¥–µ—Ä–µ–≤—É
  - [ ] QV (Qualification Volume) - –¥–ª—è —Ä–∞–Ω–≥–∞
  - [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–∞—Ö

- [ ] **–†–∞–Ω–≥–∏**
  - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ teamVolumeRequired
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ activePartnersRequired
  - [ ] –°–æ–±—ã—Ç–∏–µ RANK_ACHIEVED
  - [ ] –ú–µ—Å—è—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–Ω–≥–æ–≤

### –ë–ª–æ–∫ 4: Global Pool

- [ ] **–†–∞—Å—á–µ—Ç**
  - [ ] 2% –æ—Ç –≤—Å–µ—Ö –ø—Ä–æ–¥–∞–∂ –∑–∞ –º–µ—Å—è—Ü
  - [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç total_sales

- [ ] **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
  - [ ] –¢–æ–ª—å–∫–æ –º–µ–∂–¥—É directors
  - [ ] –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤–∫–ª–∞–¥—É
  - [ ] –í—ã–ø–ª–∞—Ç–∞ 5-–≥–æ —á–∏—Å–ª–∞

- [ ] **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
  - [ ] –°–æ–∑–¥–∞–Ω–∏–µ Bonus –∑–∞–ø–∏—Å–µ–π
  - [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ balancePassive

### –ë–ª–æ–∫ 5: Grace Day

- [ ] **–ê–∫—Ç–∏–≤–∞—Ü–∏—è grace period**
  - [ ] –¢—Ä–∏–≥–≥–µ—Ä –ø—Ä–∏ PV < $200
  - [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ mlmStatus.graceDay
  - [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è active

- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
  - [ ] –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ grace periods
  - [ ] –û—Ç—Å—á–µ—Ç 5 –¥–Ω–µ–π

- [ ] **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
  - [ ] –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ—Å–ª–µ 5 –¥–Ω–µ–π –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - [ ] –û—Ç–º–µ–Ω–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ PV ‚â• $200
  - [ ] –û—á–∏—Å—Ç–∫–∞ grace —Å—Ç–∞—Ç—É—Å–∞

### –ë–ª–æ–∫ 6: –ú–µ—Å—è—á–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

- [ ] **–í—ã–ø–ª–∞—Ç—ã (5-–µ —á–∏—Å–ª–æ)**
  - [ ] –ü–µ—Ä–µ–≤–æ–¥ pending ‚Üí paid
  - [ ] –°–æ–∑–¥–∞–Ω–∏–µ PassiveBalance —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ user.balancePassive
  - [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

- [ ] **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–Ω–≥–æ–≤**
  - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ requirements –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤
  - [ ] –°–æ–±—ã—Ç–∏–µ RANK_ACHIEVED

- [ ] **Global Pool**
  - [ ] –†–∞—Å—á–µ—Ç –ø—É–ª–∞
  - [ ] –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É directors

### –ë–ª–æ–∫ 7: –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

- [ ] **Chain integrity**
  - [ ] –ù–µ—Ç orphan –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - [ ] –í—Å–µ —Ü–µ–ø–æ—á–∫–∏ –¥–æ—Ö–æ–¥—è—Ç –¥–æ ROOT
  - [ ] ROOT.upline = ROOT.telegramID

- [ ] **Balance consistency**
  - [ ] ActiveBalance —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã
  - [ ] PassiveBalance –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
  - [ ] –°—É–º–º–∞ –∫–æ–º–∏—Å—Å–∏–π = 18% –æ—Ç –ø–æ–∫—É–ø–æ–∫

- [ ] **Audit trail**
  - [ ] –í—Å–µ Bonus –∑–∞–ø–∏—Å–∏ –∏–º–µ—é—Ç ownerTelegramID
  - [ ] –í—Å–µ Purchase –∏–º–µ—é—Ç ownerEmail
  - [ ] Timestamps –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

```bash
# –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ç–µ–∫—É—â–∞—è)
python populate_test_data.py

# –ò–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
python scripts/populate_commission_test.py
```

### 2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

```python
# –ü—Ä–∏–º–µ—Ä: –¢–µ—Å—Ç –∫–æ–º–∏—Å—Å–∏–π
from core.db import get_session
from models.user import User
from models.purchase import Purchase
from mlm_system.services.commission_service import CommissionService

session = get_session()

# 1. –°–æ–∑–¥–∞—Ç—å –ø–æ–∫—É–ø–∫—É
buyer = session.query(User).filter_by(telegramID=5971989877).first()
purchase = Purchase()
purchase.userID = buyer.userID
purchase.projectID = 1
purchase.optionID = 1
purchase.packQty = 100
purchase.packPrice = 1000
purchase.ownerTelegramID = buyer.telegramID
purchase.ownerEmail = buyer.email
session.add(purchase)
session.commit()

# 2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–º–∏—Å—Å–∏–∏
commission_service = CommissionService(session)
result = await commission_service.processPurchase(purchase.purchaseID)

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
print(f"Total distributed: ${result['totalDistributed']}")
for comm in result['commissions']:
    print(f"User {comm['userId']}: ${comm['amount']} ({comm['percentage']*100}%)")
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ SQL

```sql
-- –ö–æ–º–∏—Å—Å–∏–∏ –ø–æ –ø–æ–∫—É–ø–∫–µ
SELECT
    u.firstname,
    u.telegramID,
    u.isActive,
    u.rank,
    b.uplineLevel,
    b.bonusAmount,
    b.bonusRate,
    b.compressionApplied,
    b.commissionType
FROM bonus b
JOIN user u ON b.userID = u.userID
WHERE b.purchaseID = <purchase_id>
ORDER BY b.uplineLevel;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É–º–º—ã –∫–æ–º–∏—Å—Å–∏–π
SELECT
    SUM(bonusAmount) as total_commissions,
    (SELECT packPrice FROM purchase WHERE purchaseID = <purchase_id>) * 0.18 as expected
FROM bonus
WHERE purchaseID = <purchase_id>;
```

### 4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ (—É–∂–µ –≤ populate_test_data.py)
python populate_test_data.py --print-tree-only
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ chain integrity** –ø–æ—Å–ª–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. **–°–≤–µ—Ä—è–π—Ç–µ —Å—É–º–º—ã –∫–æ–º–∏—Å—Å–∏–π** - –¥–æ–ª–∂–Ω—ã —Ä–∞–≤–Ω—è—Ç—å—Å—è 18% –æ—Ç –ø–æ–∫—É–ø–∫–∏
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ edge cases** - –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ downline, –∏ —Ç.–¥.
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - ActiveBalance –∏ PassiveBalance –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ timeMachine** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Å—è—á–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

- **Orphan users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ upline –∏–ª–∏ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º upline
- **Missing compression** - –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–∂–∏–º–∞—é—Ç—Å—è
- **Double payments** - –±–æ–Ω—É—Å—ã –≤—ã–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è –¥–≤–∞–∂–¥—ã
- **Balance inconsistency** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω—ã
- **Rank requirements** - –Ω–µ–≤–µ—Ä–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- `mlm_system/` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `models/` - –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- `populate_test_data.py` - —Ç–µ–∫—É—â–∏–π –ø–æ–ø—É–ª—è—Ç–æ—Ä

### –£—Ç–∏–ª–∏—Ç—ã:

- `ChainWalker` - –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ upline —Ü–µ–ø–æ—á–µ–∫
- `timeMachine` - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–µ–º –≤ —Ç–µ—Å—Ç–∞—Ö
- `VolumeService` - –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ–±—ä–µ–º–æ–≤
- `EventBus` - –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ–±—ã—Ç–∏–π

---

**–ê–≤—Ç–æ—Ä:** Claude Code
**–î–∞—Ç–∞:** 2025-11-08
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** MLM v1.0
